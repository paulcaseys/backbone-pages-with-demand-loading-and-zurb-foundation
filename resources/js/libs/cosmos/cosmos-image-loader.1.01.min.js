if(!window.Cosmos){window.Cosmos={}}if(!window.Cosmos.Utils){window.Cosmos.Utils={}}(function(){var e;var t=function(){};var n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var r=n.length;var i=window.console=window.console||{};while(r--){e=n[r];if(!i[e]){i[e]=t}}})();$(document).ready(function(){});Cosmos.Utils.ImageLoaderWithRescaleSlideShow=function(e,t,n,r,i,s,o,u){$(e).data("theTargetElement",e);$(e).data("theImageArray",t);$(e).data("theImageArrayLength",t.length);$(e).data("theIntervalSpeed",n);$(e).data("theFadeSpeed",r);$(e).data("theRescale",i);$(e).data("theCentre",s);$(e).data("theElementResizeListener",o);u=typeof u!=="undefined"?u:new Object;u.success=typeof u.success!=="undefined"?u.success:"";u.change=typeof u.change!=="undefined"?u.change:"";u.error=typeof u.error!=="undefined"?u.error:"";$(e).data("varObj",u);$(e).data("theCurrentImageId",0);$(e).css("overflow","hidden");for(var a=0;a<t.length;a++){$(e).append('<div class="imageLoaderInnerContainer imageLoaderInnerContainer'+a+'"> </div>');if(t[a]["background-color"]){$(e+" .imageLoaderInnerContainer"+a).css({"background-color":t[a]["background-color"]})}$(e+" .imageLoaderInnerContainer"+a).append($("<img>",{src:t[a].img,"class":"appendedImage appendedImage"+a,style:"-ms-interpolation-mode: bicubic;","data-imgId":a}))}$(e+" .appendedImage").hide();$(e+" .appendedImage").imagesLoaded(function(i,s,a){if(a.length>0){console.log("ERROR in ImageLoaderWithRescaleSlideShow(): "+a.length+' broken image "'+this.attr("src")+'"');if(u.error!==""){u.error($(e))}}if(s.length>t.length-1){$(e).trigger("IMAGE_LOADED");if(u.success!==""){u.success($(e))}Cosmos.Utils.PositionImage(e,u);$(e+" .imageLoaderInnerContainer").hide();$(e+" .appendedImage").show();if(t.length>1){Cosmos.Utils.PlaySlideshow(e,u);setInterval(function(){Cosmos.Utils.PlaySlideshow(e,u)},n+r)}else{Cosmos.Utils.DisplayImage(e,0,r,u)}if(o=="elementResizeListenerEnabled"){$(e).resize(function(t){Cosmos.Utils.PositionImage($(e).data("theTargetElement"),u)})}}})};Cosmos.Utils.PlaySlideshow=function(e,t){var n=$(e).data("theImageArray");var r=parseInt($(e).data("theImageArrayLength"),10);var i=$(e).data("theIntervalSpeed");var s=$(e).data("theFadeSpeed");var o=$(e).data("theRescale");var u=$(e).data("theCentre");var a=parseInt($(e).data("theCurrentImageId"),10);Cosmos.Utils.DisplayImage(e,a,s,t);var f=0;if(a+1<r){f=a+1}$(e).data("theCurrentImageId",f)};Cosmos.Utils.DisplayImage=function(e,t,n,r){var i=0;$(e+" .imageLoaderInnerContainer").each(function(){var e=parseInt($(this).css("zIndex"),10);if(e>i){i=e}});var s=e+" .imageLoaderInnerContainer"+t;var o=$(s+" img").attr("src");$(e).data("curImage",s);$(e).data("curImageSrc",o);$(e).data("curImageId",t);if(r){if(r.change!==""){r.change($(e))}}$(s).css({"z-index":i+1,display:"none"});$(s).fadeIn(n)};Cosmos.Utils.PositionImage=function(e,t){$(e).css({"text-align":"left"});$(e+" .imageLoaderInnerContainer").css({overflow:"hidden",position:"absolute",width:$(e).width(),height:$(e).height()});var n=$(e).data("theImageArray");var r=$(e).data("theIntervalSpeed");var i=$(e).data("theFadeSpeed");var s=$(e).data("theRescale");var o=$(e).data("theCentre");$(e+" img").each(function(t){var n=$(this);var r=parseInt($(e).width(),10);var i=parseInt($(e).height(),10);var u=r/i;var a=parseInt(n.width(),10);var f=parseInt(n.height(),10);var l=a/f;if(s=="rescaleEnabled"){f=i;a=Math.round(f*l);n.css({width:a,height:i+"px"});if(i*l<r){a=r;f=Math.round(a/l);n.css({width:r+"px",height:f})}}else if(s=="rescaleInnerEnabled"){n.css({height:i+"px",width:"auto"});f=i;a=Math.round(f*l);if(i*l>r){n.css({width:r+"px",height:"auto"});a=r;f=Math.round(a/l)}}if(o=="centreEnabled"){n.css({"margin-left":Math.round((r-a)/2)+"px"});n.css({"margin-top":Math.round((i-f)/2)+"px"})}else if(o=="topAlignEnabled"){n.css({"margin-left":Math.round((r-a)/2)+"px"});n.css({"margin-top":"0px"})}})};(function(e,t){"use strict";var n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(r){function c(){var t=e(f),n=e(l);if(s){if(l.length){s.reject(u,t,n)}else{s.resolve(u)}}if(e.isFunction(r)){r.call(i,u,t,n)}}function h(t,r){if(t.src===n||e.inArray(t,a)!==-1){return}a.push(t);if(r){l.push(t)}else{f.push(t)}e.data(t,"imagesLoaded",{isBroken:r,src:t.src});if(o){s.notifyWith(e(t),[r,u,e(f),e(l)])}if(u.length===a.length){setTimeout(c);u.unbind(".imagesLoaded")}}var i=this,s=e.isFunction(e.Deferred)?e.Deferred():0,o=e.isFunction(s.notify),u=i.find("img").add(i.filter("img")),a=[],f=[],l=[];if(e.isPlainObject(r)){e.each(r,function(e,t){if(e==="callback"){r=t}else if(s){s[e](t)}})}if(!u.length){c()}else{u.bind("load.imagesLoaded error.imagesLoaded",function(e){h(e.target,e.type==="error")}).each(function(r,i){var s=i.src;var o=e.data(i,"imagesLoaded");if(o&&o.src===s){h(i,o.isBroken);return}if(i.complete&&i.naturalWidth!==t){h(i,i.naturalWidth===0||i.naturalHeight===0);return}if(i.readyState||i.complete){i.src=n;i.src=s}})}return s?s.promise(i):i}})(jQuery);(function(e,t,n){"$:nomunge";function c(){s=t[o](function(){r.each(function(){var t=e(this),n=t.width(),r=t.height(),i=e.data(this,a);if(n!==i.w||r!==i.h){t.trigger(u,[i.w=n,i.h=r])}});c()},i[f])}var r=e([]),i=e.resize=e.extend(e.resize,{}),s,o="setTimeout",u="resize",a=u+"-special-event",f="delay",l="throttleWindow";i[f]=250;i[l]=true;e.event.special[u]={setup:function(){if(!i[l]&&this[o]){return false}var t=e(this);r=r.add(t);e.data(this,a,{w:t.width(),h:t.height()});if(r.length===1){c()}return""},teardown:function(){if(!i[l]&&this[o]){return false}var t=e(this);r=r.not(t);t.removeData(a);if(!r.length){clearTimeout(s)}return""},add:function(t){function s(t,i,s){var o=e(this),u=e.data(this,a);u.w=i!==n?i:o.width();u.h=s!==n?s:o.height();r.apply(this,arguments)}if(!i[l]&&this[o]){return false}var r;if(e.isFunction(t)){r=t;return s}else{r=t.handler;t.handler=s}return""}}})(jQuery,this)